"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[537],{3537:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var i=a(5043),r=a(7392),l=a(7566),n=a(3216),d=a(4131),t=a(229),o=a(579);function c(e){var s;let{user:a,add:c,serverUser:u,highlight:v}=e;const{user:m}=(0,d.Jd)(),h=(0,n.Zp)(),f=(0,n.zy)(),[p,g]=(0,i.useState)(""),[_,y]=(0,i.useState)("");(0,i.useEffect)((()=>{var e;if(null!==a&&void 0!==a&&null!==(e=a.email_addresses)&&void 0!==e&&e[0].email_address&&null!==m&&void 0!==m&&m.primaryEmailAddress.emailAddress){let e=function(e,s){let a=(e+s).split("");return a.sort(),a.join("")}(null===a||void 0===a?void 0:a.email_addresses[0].email_address,null===m||void 0===m?void 0:m.primaryEmailAddress.emailAddress);y(e)}}),[m,a]);return(0,i.useEffect)((()=>{(async e=>{try{const s=await fetch("".concat("https://realtime-chat-app-u5mw.onrender.com","/conversation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationId:e})});if(!s.ok)return void console.log("Error:",s.status,s.statusText);{const e=await s.json();if(e&&e.conversation.length>0){const s=e.conversation[e.conversation.length-1];g(s.message)}}}catch(s){console.error("Error fetching session:",s)}})(_)}),[_]),(0,o.jsxs)("div",{style:v&&a.username===f.pathname.split("/").pop()?{backgroundColor:"var(--primary-blue1)"}:null,id:a.email_addresses[0].email_address,className:"userSlide",onClick:e=>{var s;null!==u&&void 0!==u&&null!==(s=u.friendList)&&void 0!==s&&s.includes(null===a||void 0===a?void 0:a.email_addresses[0].email_address)?h("/chats/".concat(a.username)):alert("Sorry, ".concat(a.username," is not a friend."))},children:[(0,o.jsx)("img",{height:35,width:35,className:"avatarImage",src:a.image_url,alt:"".concat(a.username,"'s_Image")}),(0,o.jsxs)("div",{className:"userDetails",children:[(0,o.jsx)("h3",{children:a.username}),p&&(0,o.jsx)("h5",{children:(0,t.Ay)(p)})]}),!c||null!==u&&void 0!==u&&null!==(s=u.friendList)&&void 0!==s&&s.includes(null===a||void 0===a?void 0:a.email_addresses[0].email_address)?null:(0,o.jsx)(r.A,{onClick:()=>{null!==a&&void 0!==a&&a.email_addresses[0].email_address?alert(a.username):console.log("id Hani")},children:(0,o.jsx)(l.A,{})})]})}},7566:(e,s,a)=>{var i=a(4994);s.A=void 0;var r=i(a(39)),l=a(579);s.A=(0,r.default)((0,l.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd")}}]);
//# sourceMappingURL=537.6bd5af73.chunk.js.map